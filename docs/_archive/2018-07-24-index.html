---
---

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Basic R</title>
<meta name="description" content="Start learning R in RStudio.">
<link rel="canonical" href="https://sesync-ci.github.io/basic-R-lesson/2018/07/24/index.html">
<link href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-style@v2.0/docs/css/default.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-style@v2.0/docs/css/syntax.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-style@v2.0/docs/css/static.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    

  </head>
  <body>
    <div class="page-content">
      <div class="wrapper">
        
        
<h1 style="text-transform: none;" id="basic-r">Basic R</h1>

<p>Lesson 1 with <em>Ian Carroll</em></p>

<nav id="ToC">

  <ul>
    <li><a href="#/slides/intro">Why learn R?</a></li>
    <li><a href="#/slides/console">The Console</a></li>
    <li><a href="#/slides/environment">The Environment</a></li>
    <li><a href="#/slides/editor">The Editor</a></li>
    <li><a href="#/slides/load">Load data into R</a></li>
    <li><a href="#/slides/types">Data types</a></li>
    <li><a href="#/slides/dataframes">Tables, Matrices &amp; Arrays</a></li>
    <li><a href="#/slides/parts">Parts of an Object</a></li>
    <li><a href="#/slides/functions">Functions</a></li>
    <li><a href="#/slides/flow">Flow control</a></li>
    <li><a href="#/slides/conclude">Review</a></li>
    <li><a href="#/slides/exercise">Exercises</a></li>
  </ul>
</nav>

<hr />
<p><a name="/slides/intro"></a></p>

<h2 id="why-learn-r">Why learn R?</h2>

<ul>
  <li>Original design for interactive statistical analysis</li>
  <li>General purpose scripting for your whole pipeline</li>
  <li>Bleeding-edge packages expand on “base R”</li>
  <li>Vast community <del>within statistics and ecology</del></li>
  <li>Open source</li>
</ul>

<h2 id="what-is-r">What is R?</h2>

<ul>
  <li>Language: a vocabulary and a syntax (with lots of punctuation!)</li>
  <li>Interpreter: software that evaluates expressions in the R language</li>
</ul>

<p class="ToS"><a href="#/slides/intro">Top of Section</a></p>

<hr />
<p><a name="/slides/console"></a></p>

<h2 id="the-console">The Console</h2>

<p>The interpreter accepts commands interactively through the console.</p>

<p>Basic math, as you would type it on a calculator, is usually a valid command in the R language:</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 3
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">4</span><span class="o">^</span><span class="m">2</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 16
</code></pre></div></div>

<dl>
  <dt>Question</dt>
  <dd>Why is the output prefixed by <code class="highlighter-rouge">[1]</code>?</dd>
  <dt>Answer</dt>
  <dd class="fragment">That’s the index, or position in a vector, of the first result.</dd>
</dl>

<p>A command giving a vector of results shows this clearly:</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
 [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
 [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
 [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
 [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
 [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100
</code></pre></div></div>

<p>The interpreter understands more than arithmatic operations.
That last command told it to use (or “call”) the function <code class="highlighter-rouge">seq()</code>.</p>

<p class="notes">Most of “learning R” involves getting to know a whole lot of functions, the effect of each function’s  arguments (e.g. the input values 1 and 10), and what each function returns (e.g. the output vector).</p>

<h2 id="r-as-calculator">R as Calculator</h2>

<p>A good place to begin learning R is with its built-in mathematical functionality.</p>

<h2 id="arithmatic-operators">Arithmatic operators</h2>

<p>Try <code class="highlighter-rouge">+</code>, <code class="highlighter-rouge">-</code>, <code class="highlighter-rouge">*</code>, <code class="highlighter-rouge">/</code>, and <code class="highlighter-rouge">^</code> (for raising to a power).</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">5</span><span class="o">/</span><span class="m">3</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 1.666667
</code></pre></div></div>

<h2 id="logical-tests">Logical tests</h2>

<p>Test equality with <code class="highlighter-rouge">==</code> and inequality with <code class="highlighter-rouge">=&lt;</code>, <code class="highlighter-rouge">&lt;</code>, <code class="highlighter-rouge">!=</code>, <code class="highlighter-rouge">&gt;</code>, or <code class="highlighter-rouge">=&gt;</code>.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0.5</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] TRUE
</code></pre></div></div>

<h2 id="math-functions">Math functions</h2>

<p>Common mathematical functions like <code class="highlighter-rouge">sin</code>, <code class="highlighter-rouge">log</code>, and <code class="highlighter-rouge">sqrt</code>, exist along side some universal constants.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">sin</span><span class="p">(</span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">pi</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] -2.449294e-16
</code></pre></div></div>

<h2 id="programming-idoms">Programming idoms</h2>

<p>Common computer programming functions like ‘rep’, ‘sort’, and ‘range’</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 2 2 2 2 2
</code></pre></div></div>

<h2 id="parentheses">Parentheses</h2>

<p>Sandwiching something with <code class="highlighter-rouge">(</code> and <code class="highlighter-rouge">)</code> has two possible meanings.</p>

<p>Group sub-expressions by parentheses on an as-needed basis.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 1
</code></pre></div></div>

<p>Call functions by typing their name and comma-separated arguments between parentheses.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">logb</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 1
</code></pre></div></div>

<h2 id="assignment">Assignment</h2>

<p>When you start a new session, the R interpreter already recognizes many things, including</p>

<ul>
  <li>any number</li>
  <li>any string of characters</li>
  <li>nearly universal operators (e.g. <code class="highlighter-rouge">+</code> and <code class="highlighter-rouge">/</code>)</li>
  <li>operators specific to R (e.g. <code class="highlighter-rouge">$</code> and <code class="highlighter-rouge">%*%</code>)</li>
  <li>functions in “base R”</li>
</ul>

<p>To reference a number or function just type it in as above.
To referece a string of characters, surround them in quotation marks.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="s1">'ab.cd'</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "ab.cd"
</code></pre></div></div>

<p>Without quotation marks, the interpreter checks for things named <code class="highlighter-rouge">ab.cd</code> and
doesn’t find anything:</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">ab.cd</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error in eval(expr, envir, enclos): object 'ab.cd' not found
</code></pre></div></div>

<dl>
  <dt>Question</dt>
  <dd>Is it better to use <code class="highlighter-rouge">'</code> or <code class="highlighter-rouge">"</code>?</dd>
  <dt>Answer</dt>
  <dd class="fragment">Neither one is better. You will often encounter stylistic choices
like this, so if you don’t have a personal preference try to mimic existing
styles.</dd>
</dl>

<p>You can expand the vocabulary known to the R interpreter by creating a new
<strong>variable</strong>. Using the symbol <code class="highlighter-rouge">&lt;-</code> is referred to as assignment: the output of
any command to the right of <code class="highlighter-rouge">&lt;-</code> gets the name given on its left.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>You’ll notice that nothing prints to the console, because we assigned the output to a variable.
We can print the value of <code class="highlighter-rouge">x</code> by evaluating it without assignment.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  [1]   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16
 [18]  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33
 [35]  34  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50
 [52]  51  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67
 [69]  68  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84
 [86]  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100
</code></pre></div></div>

<p class="notes">Assigning values to new variables (to the left of a <code class="highlighter-rouge">&lt;-</code>) is the only time you
can reference something previously unknown to the interpreter. All other
commands must reference things already in the interpreter’s vocabulary.</p>

<p>Once assigned to a variable, a value becomes known to R and you can refer to it in other commands.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="nf">sin</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">pi</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>
<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-R-lesson@v0.5/docs/images/console/unnamed-chunk-14-1.png" alt=" " /></p>

<p class="ToS"><a href="#/slides/console">Top of Section</a></p>

<hr />
<p><a name="/slides/environment"></a></p>

<h2 id="the-environment">The Environment</h2>

<p>In the RStudio IDE, the environment tab displays the variables added to R’s
vocabulary in the current session.</p>

<ul>
  <li>Variables do not persist between sessions (unless loaded from .Rdata)</li>
  <li>Variables only change their value on re-assignment</li>
</ul>

<p class="ToS"><a href="#/slides/environment">Top of Section</a></p>

<hr />
<p><a name="/slides/editor"></a></p>

<h2 id="the-editor">The Editor</h2>

<p>The <strong>console</strong> is for evaluating commands you don’t intend to keep or reuse.
It’s useful for testing commands and poking around. The <strong>editor</strong> is where you
compose scripts that will process data, perform analyses, code up
visualizations, and even write reports.</p>

<p class="notes">These work together in RStudio, which has multiple ways to send parts of the
script you are editing to the console for immediate evaluation. Alternatively
you can “source” the entire script.</p>

<p>Open up “worksheet-1.R” in the editor, and follow along by replacing the <code class="highlighter-rouge">...</code> placeholders with the code here. Then evalute just this line (Ctrl+Enter on Windows, ⌘+Enter on Mac OS).</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">vals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Our call to the function <code class="highlighter-rouge">seq</code> could have been much more explicit. We could give
the arguments by the names that <code class="highlighter-rouge">seq</code> is expecting.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">vals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
            </span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Run that code by moving your cursor anywhere within those two lines and clicking
“Run”, or by using the keyboard shortcut Ctrl-Return or ⌘ Return.</p>

<dl>
  <dt>Question</dt>
  <dd>What’s an advantage of naming arguments?</dd>
  <dt>Answer</dt>
  <dd class="fragment">One advantage is that you can put them in any order. A related
advantage is that you can then skip some arguments, which is fine to do if each
skipped argument has a default value. A third advantage is code readability,
which you should always be conscious of while writing in the editor.</dd>
</dl>

<h2 id="readability">Readability</h2>

<p>Code readability in the editor cuts both ways: sometimes verbosity is useful,
sometimes it is cumbersome.</p>

<p>The <code class="highlighter-rouge">seq()</code> function has an alternative form available when only the <code class="highlighter-rouge">from</code> and
<code class="highlighter-rouge">to</code> arguments are needed.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
 [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
 [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
 [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
 [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
 [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100
</code></pre></div></div>

<p class="notes">The <code class="highlighter-rouge">:</code> operator should be used whenever possible because it replaces a common,
cumbersome function call with an brief, intuitive syntax. Likewise, the <code class="highlighter-rouge">assign</code>
function duplicates the functionallity of the <code class="highlighter-rouge">&lt;-</code> symbol, but is never used
when the simpler operator will suffice.</p>

<h2 id="function-documentation">Function documentation</h2>

<p>How would you get to know these properties and the names of a function’s
arguments?</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="o">?</span><span class="n">seq</span><span class="w">
</span></code></pre></div></div>

<p>How would you even know what function to call?</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="o">??</span><span class="n">sequence</span><span class="w">
</span></code></pre></div></div>

<p class="ToS"><a href="#/slides/editor">Top of Section</a></p>

<hr />
<p><a name="/slides/load"></a></p>

<h2 id="load-data-into-r">Load data into R</h2>

<p>We will use the function <code class="highlighter-rouge">read.csv()</code> that reads a Comma-Separated-Values file.
The essential argument for the function to read in data is the path to the file,
and optional additional arguments that adjust how the file is interpreted.</p>

<p class="notes">Additional file types can be read in using <code class="highlighter-rouge">read.table()</code>; in fact, <code class="highlighter-rouge">read.csv()</code>
is a simple wrapper for the <code class="highlighter-rouge">read.table()</code> function having set some default
values for some of the optional arguments (e.g. <code class="highlighter-rouge">sep = ","</code>).</p>

<p>Type <code class="highlighter-rouge">read.csv(</code> into the console and then press <strong>tab</strong> to see what arguments
this function takes. Hovering over each item in the list will show a description
of that argument from the help documentation about that function. Specify the
values to use for an argument using the syntax <code class="highlighter-rouge">name = value</code>.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/plots.csv"</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   id                 treatment
1   1         Spectab exclosure
2   2                   Control
3   3  Long-term Krat Exclosure
4   4                   Control
5   5          Rodent Exclosure
6   6 Short-term Krat Exclosure
7   7          Rodent Exclosure
8   8                   Control
9   9         Spectab exclosure
10 10          Rodent Exclosure
11 11                   Control
12 12                   Control
13 13 Short-term Krat Exclosure
14 14                   Control
15 15  Long-term Krat Exclosure
16 16          Rodent Exclosure
17 17                   Control
18 18 Short-term Krat Exclosure
19 19  Long-term Krat Exclosure
20 20 Short-term Krat Exclosure
21 21  Long-term Krat Exclosure
22 22                   Control
23 23          Rodent Exclosure
24 24          Rodent Exclosure
</code></pre></div></div>

<dl>
  <dt>Question</dt>
  <dd>Is the <code class="highlighter-rouge">header</code> argument necessary?</dd>
  <dt>Answer</dt>
  <dd class="fragment">No. Look at <code class="highlighter-rouge">?read.csv</code> to see that <code class="highlighter-rouge">TRUE</code> is the default value for this argument.</dd>
</dl>

<p>Use the assignment operator “&lt;-“ to store that data in memory and work with it</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">plots</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/plots.csv"</span><span class="p">)</span><span class="w">
</span><span class="n">animals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/animals.csv"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p class="notes">You can specify what indicates missing data in the read.csv function using
either <code class="highlighter-rouge">na.strings = "NA"</code> or <code class="highlighter-rouge">na = "NA"</code>. You can also specify multiple things
to be interpreted as missing values, such as <code class="highlighter-rouge">na.strings = c("missing", "no
data", "&lt; 0.05 mg/L", "XX")</code>.</p>

<p>After reading in the “animals.csv” and “plots.csv” files, let’s explore what
types of data are in each column and what kind of structure your data has.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">plots</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'data.frame':	24 obs. of  2 variables:
 $ id       : int  1 2 3 4 5 6 7 8 9 10 ...
 $ treatment: Factor w/ 5 levels "Control","Long-term Krat Exclosure",..: 5 1 2 1 3 4 3 1 5 3 ...
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">summary</span><span class="p">(</span><span class="n">plots</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       id                            treatment
 Min.   : 1.00   Control                  :8  
 1st Qu.: 6.75   Long-term Krat Exclosure :4  
 Median :12.50   Rodent Exclosure         :6  
 Mean   :12.50   Short-term Krat Exclosure:4  
 3rd Qu.:18.25   Spectab exclosure        :2  
 Max.   :24.00                                
</code></pre></div></div>

<p class="ToS"><a href="#/slides/load">Top of Section</a></p>

<hr />
<p><a name="/slides/types"></a></p>

<h2 id="data-types">Data types</h2>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>double</td>
      <td>3.1, -4, Inf, NaN</td>
    </tr>
    <tr>
      <td>integer</td>
      <td>-4L, 0L, 999L</td>
    </tr>
    <tr>
      <td>character</td>
      <td>‘a’, ‘4’, ‘👏’</td>
    </tr>
    <tr>
      <td>logical</td>
      <td>TRUE, FALSE</td>
    </tr>
    <tr>
      <td>missing</td>
      <td>NA</td>
    </tr>
  </tbody>
</table>

<h2 id="data-structures">Data structures</h2>

<p>Compound objects, built from one or more of these data types, or even other objects.</p>

<p>Common one-dimensional, array data structures:</p>

<ul>
  <li>Vectors</li>
  <li>Lists</li>
  <li>Factors</li>
</ul>

<h2 id="vectors">Vectors</h2>

<p>Vectors are the basic data structure in R. They are a collection of data that are all of the same type. Create a vector by combining elements together using the function <code class="highlighter-rouge">c()</code>.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">counts</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>All elements of an vector must be the same type, so when you attempt to combine different types they will be coerced to the most flexible type.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "1" "2" "c"
</code></pre></div></div>

<h2 id="lists">Lists</h2>

<p>Lists are like vectors but their elements can be of any data type or structure.</p>

<p>Construct lists with <code class="highlighter-rouge">list()</code> instead of <code class="highlighter-rouge">c()</code>:</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] "c"
</code></pre></div></div>

<p>Lists can even include another list!</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1]]
[1] 1

[[2]]
[[2]][[1]]
[1] 2

[[2]][[2]]
[1] 3
</code></pre></div></div>

<h2 id="factors">Factors</h2>

<p>A factor is a vector that can contain only predefined values, and is used to
store categorical data. Factors are like integer vectors, but posess a <code class="highlighter-rouge">levels</code>
attribute that assigns names to however many discrete categories are specified.</p>

<p>Use <code class="highlighter-rouge">factor()</code> to create a vector with predefined values, which are often
characters or “strings”.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">education</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="w">
    </span><span class="nf">c</span><span class="p">(</span><span class="s2">"college"</span><span class="p">,</span><span class="w"> </span><span class="s2">"highschool"</span><span class="p">,</span><span class="w"> </span><span class="s2">"college"</span><span class="p">,</span><span class="w"> </span><span class="s2">"middle"</span><span class="p">,</span><span class="w"> </span><span class="s2">"middle"</span><span class="p">),</span><span class="w">
    </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"middle"</span><span class="p">,</span><span class="w"> </span><span class="s2">"highschool"</span><span class="p">,</span><span class="w"> </span><span class="s2">"college"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>The <code class="highlighter-rouge">str</code> function notes the labels, but prints the integers assigned in their
stead.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">education</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Factor w/ 3 levels "middle","highschool",..: 3 2 3 1 1
</code></pre></div></div>

<p class="ToS"><a href="#/slides/types">Top of Section</a></p>

<hr />
<p><a name="/slides/dataframes"></a></p>

<h2 id="tables-matrices--arrays">Tables, Matrices &amp; Arrays</h2>

<p>Data can be stored in several additional data structures depending on its complexity.</p>

<table>
  <thead>
    <tr>
      <th>Dimensions</th>
      <th>Homogeneous</th>
      <th>Heterogeneous</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1d</td>
      <td>c()</td>
      <td>list()</td>
    </tr>
    <tr>
      <td>2d</td>
      <td>matrix()</td>
      <td>data.frame()</td>
    </tr>
    <tr>
      <td>nd</td>
      <td>array()</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p class="notes">Of these, the data frame is far and away the most used.</p>

<h2 id="data-frames">Data frames</h2>

<p>Data frames are 2-dimensional and can contain heterogenous data like numbers in one column and a factor in another.</p>

<p>It is the data structure most similar to a spreadsheet, with two key differences:</p>

<ul>
  <li>The columns are <strong>equal-length</strong> vectors.</li>
  <li>As vectors, the columns are homogeneous and cannot hold values of the “wrong” type.</li>
</ul>

<p>Creating a data frame from scratch can be done by combining vectors with the <code class="highlighter-rouge">data.frame()</code> function.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">education</span><span class="p">,</span><span class="w"> </span><span class="n">counts</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>There are several functions to get to know a data frame:</p>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">dim()</code></td>
      <td>dimensions</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">nrow()</code>, <code class="highlighter-rouge">ncol()</code></td>
      <td>number of rows, columns</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">names()</code></td>
      <td>(column) names</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">str()</code></td>
      <td>structure</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">summary()</code></td>
      <td>summary info</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">head()</code></td>
      <td>shows beginning rows</td>
    </tr>
  </tbody>
</table>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "education" "counts"   
</code></pre></div></div>

<p class="ToS"><a href="#/slides/dataframes">Top of Section</a></p>

<hr />
<p><a name="/slides/parts"></a></p>

<h2 id="parts-of-an-object">Parts of an Object</h2>

<p>Parts of a data structure are always accessible, either by their name or by their position, using square brackets: <code class="highlighter-rouge">[</code> and <code class="highlighter-rouge">]</code>.</p>

<h2 id="position">Position</h2>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">counts</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 4
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">counts</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 7
</code></pre></div></div>

<h2 id="names">Names</h2>

<p>Parts of an object may also have a name. The names can be given when you are creating a vector or afterwards using the <code class="highlighter-rouge">names()</code> function.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="s1">'education'</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   education
1    college
2 highschool
3    college
4     middle
5     middle
</code></pre></div></div>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'ed'</span><span class="p">,</span><span class="w"> </span><span class="s1">'ct'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="s1">'ed'</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>          ed
1    college
2 highschool
3    college
4     middle
5     middle
</code></pre></div></div>

<dl>
  <dt>Question</dt>
  <dd>This use of <code class="highlighter-rouge">&lt;-</code> with <code class="highlighter-rouge">names(x)</code> on the left is a little odd. What’s going on?</dd>
  <dt>Answer</dt>
  <dd class="fragment">We are overwriting an existing variable, but one that is accessed through the output of the function on the left rather than the global environment.</dd>
</dl>

<p>For a multi-dimensional array, separate the dimension along which a part is requested with a comma.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'ed'</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] college
Levels: middle highschool college
</code></pre></div></div>

<p class="notes">It’s fine to mix names and indices when selecting parts of an object.</p>

<p>There are multiple ways to access several parts of an object together.</p>

<table>
  <thead>
    <tr>
      <th>Part</th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>positives</td>
      <td>elements at given positions</td>
    </tr>
    <tr>
      <td>negatives</td>
      <td>given positions omitted</td>
    </tr>
    <tr>
      <td>logicals</td>
      <td>elements where the corresponding position is TRUE</td>
    </tr>
    <tr>
      <td>nothing</td>
      <td>all the elements</td>
    </tr>
  </tbody>
</table>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">days</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="w">
  </span><span class="s2">"Sunday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tuesday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Friday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Saturday"</span><span class="p">)</span><span class="w">
</span><span class="n">weekdays</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">6</span><span class="p">]</span><span class="w">
</span><span class="n">weekend</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">)]</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">weekdays</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "Monday"    "Tuesday"   "Wednesday" "Thursday"  "Friday"   
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">weekend</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "Sunday"   "Saturday"
</code></pre></div></div>

<h2 id="subsetting-data-frames">Subsetting data frames</h2>

<p>The <code class="highlighter-rouge">$</code> sign is an operator that makes for quick access to a single, named part of an object.
It’s most useful when used interactively with “tab completion” on the columns of a data frame.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">ed</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] college    highschool college    middle     middle    
Levels: middle highschool college
</code></pre></div></div>

<p>A logical test applied to a single column produces a vector of <code class="highlighter-rouge">TRUE</code> and <code class="highlighter-rouge">FALSE</code> values that’s the right length for subsetting the data.</p>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">$</span><span class="n">ed</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'college'</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       ed ct
1 college  4
3 college  7
</code></pre></div></div>

<p class="ToS"><a href="#/slides/parts">Top of Section</a></p>

<hr />
<p><a name="/slides/functions"></a></p>

<h2 id="functions">Functions</h2>

<p>Functions package up a batch of commands. There are several reasons to develop
functions in R for data analysis:</p>

<ul>
  <li>reuse</li>
  <li>readability</li>
  <li>modularity</li>
  <li>consistency</li>
</ul>

<p class="notes">Writing functions to use multiple times within a project prevents you from
duplicating code, a real time-saver when you want to update what the function
does. If you see blocks of similar lines of code through your project, those are
usually candidates for being moved into functions.</p>

<h2 id="anatomy-of-a-function">Anatomy of a function</h2>

<p>Like all programming languages, R has keywords that are reserved for import
activities, like creating functions. Keywords are usually very intuitive, the
one we need is <code class="highlighter-rouge">function</code>.</p>

<div class="language-r text-document no-eval highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="k">function</span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Three components:</p>

<ul>
  <li><strong>arguments</strong>: control how you can call the function</li>
  <li><strong>body</strong>: the code inside the function</li>
  <li><strong>return value</strong>: controls what output the function gives</li>
</ul>

<p>We’ll make a function to extract the first row of its argument, which we give a
name to use inside the function:</p>

<div class="language-r text-document no-eval highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="k">function</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">z</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p class="notes">Note that <code class="highlighter-rouge">z</code> doesn’t exist until we call the function, which merely contains
the instructions for how any <code class="highlighter-rouge">z</code> will be handled.</p>

<p>Finally, we need to give the function a name so we can use it like we used <code class="highlighter-rouge">c()</code>
and <code class="highlighter-rouge">seq()</code> above.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">first</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">z</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">first</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       ed ct
1 college  4
</code></pre></div></div>

<dl>
  <dt>Question</dt>
  <dd>Can you explain the result of entering <code class="highlighter-rouge">first(counts)</code> into the console?</dd>
  <dt>Answer</dt>
  <dd class="fragment">The function caused an error, which prompted the interpreter to
print a helpful error message. Never ignore an error message. (It’s okay to
ignore a “warning”.)</dd>
</dl>

<p class="ToS"><a href="#/slides/functions">Top of Section</a></p>

<hr />
<p><a name="/slides/flow"></a></p>

<h2 id="flow-control">Flow control</h2>

<p>The R interpreter’s “focus” flows through a script (or any section of code you run) line by line.
Without additional instruction, every line is processed from the top to bottom.
“Flow control” is the generic term for causing the interpreter to repeat or skip certain lines, using concepts like “for loops” and “if/else conditionals”.</p>

<p>Flow control happens within blocks of code isolated between curly braces <code class="highlighter-rouge">{</code> and <code class="highlighter-rouge">}</code>, known as “statements”.</p>

<div class="language-r text-document no-eval highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p class="notes">The keyword <code class="highlighter-rouge">if</code> must be followed by a logical test which determines, at runtime, what to do next.
The R interpreter goes to the first statement if the logical value is <code class="highlighter-rouge">TRUE</code> and to the second statement if it’s <code class="highlighter-rouge">FALSE</code>.</p>

<p>An if/else conditional would allow the <code class="highlighter-rouge">first</code> function to avoid the error thrown by calling <code class="highlighter-rouge">first(counts)</code>.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">first</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is.vector</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">first</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       ed ct
1 college  4
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">first</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 4
</code></pre></div></div>

<p class="ToS"><a href="#/slides/flow">Top of Section</a></p>

<hr />
<p><a name="/slides/conclude"></a></p>

<h2 id="review">Review</h2>

<p>In this introduction to R, we touched on several key parts of scripting for data analysis.</p>

<ul>
  <li>RStudio panes</li>
  <li>Variable assignment</li>
  <li>Data structures</li>
  <li>Subsetting data</li>
  <li>Functions</li>
  <li>Flow control</li>
</ul>

<h2 id="special-characters-in-r">Special characters in R</h2>

<p>Perhaps more than most languages, an R script can appear like a jumble of
archaic symbols. Here is a little table of characters to recognize as having
special meaning.</p>

<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">?</code></td>
      <td>get help</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">#</code></td>
      <td>comment</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">:</code></td>
      <td>sequence</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">::</code>, <code class="highlighter-rouge">:::</code></td>
      <td>access namespaces (advanced)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;-</code></td>
      <td>assignment</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">$</code>, <code class="highlighter-rouge">[ ]</code>, <code class="highlighter-rouge">[[ ]]</code></td>
      <td>subsetting</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">% %</code></td>
      <td>infix operators, e.g. <code class="highlighter-rouge">%*%</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">{ }</code></td>
      <td>statements</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">.</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">@</code></td>
      <td>slot (advanced)</td>
    </tr>
  </tbody>
</table>

<p class="notes">The <code class="highlighter-rouge">.</code> in R has no fixed meaning and is often used as <code class="highlighter-rouge">_</code> might be used to
separate words in a variable name.</p>

<p class="ToS"><a href="#/slides/conclude">Top of Section</a></p>

<hr />
<p><a name="/slides/exercise"></a></p>

<h2 id="exercises">Exercises</h2>

<h3 id="exercise-1">Exercise 1</h3>

<p>Use the quadratic formula to find <script type="math/tex">x</script> that satisfies the
equation <script type="math/tex">1.5 x^2 + 0.3 x - 2.9 = 0</script>.</p>

<script type="math/tex; mode=display">\frac{-0.3 \pm \sqrt{0.3^2 - 4 \times 1.5 \times {-2.9}}}{2 \times 1.5}</script>

<p class="notes"><a href="#solution-1">View solution</a></p>

<h3 id="exercise-2">Exercise 2</h3>

<p>By default, all character data is read in to a data.frame as factors. Use the
<code class="highlighter-rouge">read.csv()</code> argument <code class="highlighter-rouge">stringsAsFactors</code> to suppress this behavior, then
subsequently modify the <code class="highlighter-rouge">sex</code> column in <code class="highlighter-rouge">animals</code> to make it a factor. Remember
that columns of a <code class="highlighter-rouge">data.frame</code> are identified to the R interpreter with the <code class="highlighter-rouge">$</code>
operator, e.g. <code class="highlighter-rouge">animals$sex</code>.</p>

<p class="notes"><a href="#solution-2">View solution</a></p>

<h3 id="exercise-3">Exercise 3</h3>

<p>Use the <code class="highlighter-rouge">typeof</code> function to inspect the data type of <code class="highlighter-rouge">counts</code>, and do the same
for another variable to which you assign a list of numbers. Why are they
different? Use <code class="highlighter-rouge">c</code> to combine <code class="highlighter-rouge">counts</code> with the new variable you just created
and inspect the result with <code class="highlighter-rouge">typeof</code>. Does <code class="highlighter-rouge">c</code> always create vectors?</p>

<p class="notes"><a href="#solution-3">View solution</a></p>

<h3 id="exercise-4">Exercise 4</h3>

<p>Create a data frame with two columns, one called “species” with four strings and
another called “abund” with four numbers. Store your data frame as a variable
called <code class="highlighter-rouge">data</code>.</p>

<p class="notes"><a href="#solution-4">View solution</a></p>

<h3 id="exercise-5">Exercise 5</h3>

<ol>
  <li>Get weekdays using negative integers.</li>
  <li>Get M-W-F using a vector of postitions generated by <code class="highlighter-rouge">seq()</code> that uses the
<code class="highlighter-rouge">by</code> argument (don’t forget to <code class="highlighter-rouge">?seq</code> for help).</li>
</ol>

<p class="notes"><a href="#solution-5">View solution</a></p>

<h3 id="exercise-6">Exercise 6</h3>

<p>The keywords <code class="highlighter-rouge">else</code> and <code class="highlighter-rouge">if</code> can be combined to allow flow control among more
than two statements, as below. Expand the <code class="highlighter-rouge">first</code> function once again to
differentiate between <code class="highlighter-rouge">dat</code> provided as a <code class="highlighter-rouge">matrix</code> and as a <code class="highlighter-rouge">data.frame</code>. It’s
up to you what the “first” element of a matrix should be!</p>

<div class="language-r text-document no-eval highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p class="notes"><a href="#solution-6">View solution</a></p>

<h2 id="solutions">Solutions</h2>

<h3 id="solution-1">Solution 1</h3>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="m">-0.3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="m">0.3</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">-2.9</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 1.294035
</code></pre></div></div>

<p class="notes"><a href="#exercise-1">Return</a></p>

<h3 id="solution-2">Solution 2</h3>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">animals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s1">'data/animals.csv'</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">na.strings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span><span class="w">
</span><span class="n">animals</span><span class="o">$</span><span class="n">sex</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">animals</span><span class="o">$</span><span class="n">sex</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">animals</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'data.frame':	35549 obs. of  9 variables:
 $ id             : int  2 3 4 5 6 7 8 9 10 11 ...
 $ month          : int  7 7 7 7 7 7 7 7 7 7 ...
 $ day            : int  16 16 16 16 16 16 16 16 16 16 ...
 $ year           : int  1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 ...
 $ plot_id        : int  3 2 7 3 1 2 1 1 6 5 ...
 $ species_id     : chr  "NL" "DM" "DM" "DM" ...
 $ sex            : Factor w/ 2 levels "F","M": 2 1 2 2 2 1 2 1 1 1 ...
 $ hindfoot_length: int  33 37 36 35 14 NA 37 34 20 53 ...
 $ weight         : int  NA NA NA NA NA NA NA NA NA NA ...
</code></pre></div></div>

<p class="notes"><a href="#exercise-2">Return</a></p>

<h3 id="solution-3">Solution 3</h3>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">typeof</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "double"
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">typeof</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "list"
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">typeof</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">counts</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "list"
</code></pre></div></div>

<p class="notes">The variable <code class="highlighter-rouge">x</code> has a data type of <code class="highlighter-rouge">list</code>, so R does not restrict its elements
to a particular type as it does for vectors. The result of combining a list and
vector is a list, because the list is the more flexible data structure.</p>

<p class="notes"><a href="#exercise-3">Return</a></p>

<h3 id="solution-4">Solution 4</h3>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">species</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'ape'</span><span class="p">,</span><span class="w"> </span><span class="s1">'bat'</span><span class="p">,</span><span class="w"> </span><span class="s1">'cat'</span><span class="p">,</span><span class="w"> </span><span class="s1">'dog'</span><span class="p">)</span><span class="w">
</span><span class="n">abund</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="w">
</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">species</span><span class="p">,</span><span class="w"> </span><span class="n">abund</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'data.frame':	4 obs. of  2 variables:
 $ species: Factor w/ 4 levels "ape","bat","cat",..: 1 2 3 4
 $ abund  : int  1 2 3 4
</code></pre></div></div>

<p class="notes"><a href="#exercise-4">Return</a></p>

<h3 id="solution-5">Solution 5</h3>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">sol1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="m">-7</span><span class="p">)]</span><span class="w">
</span><span class="n">sol2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="n">seq</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)]</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">sol1</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "Monday"    "Tuesday"   "Wednesday" "Thursday"  "Friday"   
</code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">sol2</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] "Monday"    "Wednesday" "Friday"   
</code></pre></div></div>

<p class="notes"><a href="#exercise-5">Return</a></p>

<h3 id="solution-6">Solution 6</h3>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><div class="highlight"><pre class="highlight"><code><span class="n">first</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is.vector</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">is.matrix</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-r input highlighter-rouge" title="Console"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">first</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 1
</code></pre></div></div>

<p class="notes"><a href="#exercise-6">Return</a></p>

<p class="ToS"><a href="#/slides/exercise">Top of Section</a></p>



        <hr>

<p>If you need to catch-up before a section of code will work, just squish it's
🍅 to copy code above it into your clipboard. Then paste into your interpreter's
console, run, and you'll be ready to start in on that section. Code copied by
both 🍅 and 📋 will also appear below, where you can edit first, and then copy,
paste, and run again.</p>

<div class="output">
  <pre id="ketchup" contenteditable="true"><code># Nothing here yet!</code></pre>
</div>

<script>
$(document).ready(function(){
  
  // Add code help icons to code blocks
  $('.input, .text-document').append('<ul class="code-help">');
  $('.code-help')
    .append('<li class="clipboard">📋</li>');
  $('.text-document:not(.no-eval) .code-help')
    .append('<li class="ketchup">🍅</li>');

  // Bind copy actions to mouse clicks on icons
  var $ketchup = $('#ketchup');
  var rng = document.createRange();
  var sel = window.getSelection();
  $('.ketchup').click(function(){
    var $prev = $(this)
      .parents('.text-document')
      .prevAll('.text-document:has(.ketchup)');
    $ketchup.find('code').text($prev.find('pre').text());
    rng.selectNodeContents($ketchup[0]);
    sel.removeAllRanges();
    sel.addRange(rng);
    document.execCommand("copy");
    sel.removeAllRanges();
  });
  $('.text-document .clipboard').click(function(){
    var pre = $(this).parents('.text-document').find('pre').text();
    $ketchup.find('code').text(pre);
    rng.selectNodeContents($ketchup[0]);
    sel.removeAllRanges();
    sel.addRange(rng);
    document.execCommand("copy");
    sel.removeAllRanges();
  });
  $('.input .clipboard').click(function(){
    var pre = $(this).parents('.input').find('pre').text();
    pre = pre.replace(/(^|\n)> */g, '$1');
    $ketchup.find('code').text(pre);
    rng.selectNodeContents($ketchup[0]);
    sel.removeAllRanges();
    sel.addRange(rng);
    document.execCommand("copy");
    sel.removeAllRanges();
  });
});
</script>
      </div>
    </div>
    <script>
$(document).ready(function(){
  // Add links to R and Python package repositories
  $('a.rlib').map(function(){
    this.href = 'https://cran.r-project.org/package=' + this.innerText;
  });
  $('a.pylib').map(function(){
    this.href = 'https://pypi.python.org/pypi/' + this.innerText;
  });
});
</script>

  </body>
</html>
