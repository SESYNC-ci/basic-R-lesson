---
---

## Exercises

===

### Exercise 1

Use the quadratic formula to find $$x$$ that satisfies the
equation $$1.5 x^2 + 0.3 x - 2.9 = 0$$.

$$
\frac{-0.3 \pm \sqrt{0.3^2 - 4 \times 1.5 \times {-2.9}}}{2 \times 1.5}
$$


[View solution](#solution-1)
{:.notes}

===

### Exercise 2

By default, all character data is read in to a data.frame as factors. Use the
`read.csv()` argument `stringsAsFactors` to suppress this behavior, then
subsequently modify the `sex` column in `animals` to make it a factor. Remember
that columns of a `data.frame` are identified to the R interpreter with the `$`
operator, e.g. `animals$sex`.

[View solution](#solution-2)
{:.notes}

===

### Exercise 3

Use the `typeof` function to inspect the data type of `counts`, and do the same
for another variable to which you assign a list of numbers. Why are they
different? Use `c` to combine `counts` with the new variable you just created
and inspect the result with `typeof`. Does `c` always create vectors?

[View solution](#solution-3)
{:.notes}

===

### Exercise 4

Create a data frame with two columns, one called "species" with four strings and
another called "abund" with four numbers. Store your data frame as a variable
called `data`.

[View solution](#solution-4)
{:.notes}

===

### Exercise 5

1. Get weekdays using negative integers.
1. Get M-W-F using a vector of postitions generated by `seq()` that uses the
`by` argument (don't forget to `?seq` for help).

[View solution](#solution-5)
{:.notes}

===

### Exercise 6

The keywords `else` and `if` can be combined to allow flow control among more
than two statements, as below. Expand the `first` function once again to
differentiate between `dat` provided as a `matrix` and as a `data.frame`. It's
up to you what the "first" element of a matrix should be!

~~~r
if (...) {
  ...
} else if {
  ...
} else {
  ...
}
~~~
{:.text-document .no-eval handout = 0}

[View solution](#solution-6)
{:.notes}

===

## Solutions

===

### Solution 1



~~~r
> (-0.3 + sqrt(0.3 ^ 2 - 4 * 1.5 * -2.9)) / (2 * 1.5)
~~~
{:title="Console" .input}


~~~
[1] 1.294035
~~~
{:.output}


[Return](#exercise-1)
{:.notes}

===

### Solution 2



~~~r
animals <- read.csv('data/animals.csv', stringsAsFactors = FALSE, na.strings = '')
animals$sex <- factor(animals$sex)
~~~
{:title="{{ site.data.lesson.handouts[0] }}" .text-document}




~~~r
> str(animals)
~~~
{:title="Console" .input}


~~~
'data.frame':	35549 obs. of  9 variables:
 $ id             : int  2 3 4 5 6 7 8 9 10 11 ...
 $ month          : int  7 7 7 7 7 7 7 7 7 7 ...
 $ day            : int  16 16 16 16 16 16 16 16 16 16 ...
 $ year           : int  1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 ...
 $ plot_id        : int  3 2 7 3 1 2 1 1 6 5 ...
 $ species_id     : chr  "NL" "DM" "DM" "DM" ...
 $ sex            : Factor w/ 2 levels "F","M": 2 1 2 2 2 1 2 1 1 1 ...
 $ hindfoot_length: int  33 37 36 35 14 NA 37 34 20 53 ...
 $ weight         : int  NA NA NA NA NA NA NA NA NA NA ...
~~~
{:.output}


[Return](#exercise-2)
{:.notes}

===

### Solution 3



~~~r
x <- list(3, 4, 5, 7)
~~~
{:title="{{ site.data.lesson.handouts[0] }}" .text-document}




~~~r
> typeof(counts)
~~~
{:title="Console" .input}


~~~
[1] "double"
~~~
{:.output}



~~~r
> typeof(x)
~~~
{:title="Console" .input}


~~~
[1] "list"
~~~
{:.output}



~~~r
> typeof(c(counts, x))
~~~
{:title="Console" .input}


~~~
[1] "list"
~~~
{:.output}


The variable `x` has a data type of `list`, so R does not restrict its elements
to a particular type as it does for vectors. The result of combining a list and
vector is a list, because the list is the more flexible data structure.
{:.notes}

[Return](#exercise-3)
{:.notes}

===

### Solution 4



~~~r
species <- c('ape', 'bat', 'cat', 'dog')
abund <- 1:4
data <- data.frame(species, abund)
~~~
{:title="{{ site.data.lesson.handouts[0] }}" .text-document}




~~~r
> str(data)
~~~
{:title="Console" .input}


~~~
'data.frame':	4 obs. of  2 variables:
 $ species: Factor w/ 4 levels "ape","bat","cat",..: 1 2 3 4
 $ abund  : int  1 2 3 4
~~~
{:.output}


[Return](#exercise-4)
{:.notes}

===

### Solution 5



~~~r
sol1 <- days[c(-1, -7)]
sol2 <- days[seq(2, 7, 2)]
~~~
{:title="{{ site.data.lesson.handouts[0] }}" .text-document}




~~~r
> sol1
~~~
{:title="Console" .input}


~~~
[1] "Monday"    "Tuesday"   "Wednesday" "Thursday"  "Friday"   
~~~
{:.output}




~~~r
> sol2
~~~
{:title="Console" .input}


~~~
[1] "Monday"    "Wednesday" "Friday"   
~~~
{:.output}


[Return](#exercise-5)
{:.notes}

===

### Solution 6



~~~r
first <- function(dat) {
    if (is.vector(dat)) {
        result <- dat[1]
    } else if (is.matrix(dat)) {
        result <- dat[1, 1]
    } else {
        result <- dat[1, ]
    }
    return(result)
}
~~~
{:title="{{ site.data.lesson.handouts[0] }}" .text-document}




~~~r
> m <- matrix(1:9, nrow = 3, ncol = 3)
> first(m)
~~~
{:title="Console" .input}


~~~
[1] 1
~~~
{:.output}


[Return](#exercise-6)
{:.notes}
