<!DOCTYPE html>
<html>
  <head>
	  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bas(e|ic) R</title>
<meta name="description" content="Get started with R in RStudio">
<link rel="canonical" href="http://sesync-ci.github.io/basic-R-lesson/2017/07/18/challenge.html">
<link rel="stylesheet" href="/basic-R-lesson/css/default.css">
<link rel="stylesheet" href="/basic-R-lesson/css/static.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-style@v1.2/docs/css/static.css">
  </head>
  <body>
	  <div class="page-content">
	    <div class="wrapper">
        
        
<h2 id="scripting-exercises">Scripting Exercises</h2>

<p>Work through as many of the following challenge exercises as you can in one hour. Take at least five minutes to ponder each challenge on your own, but then feel free to engage with fellow participants and SESYNC instructors for guidance or ideas.</p>

<h4 id="challenge-1">Challenge 1</h4>

<p>If you ever interview for a “code monkey” postition, you may be asked to complete this common challenge using multiple approaches; we’ll try the most straightforward. Write a “for loop” in the R language that calculates the Fibonnacci sequence up through it’s 12th entry. Start your script with the line <code class="highlighter-rouge">fib &lt;- c(1, 1)</code>, and recall that <code class="highlighter-rouge">c</code> combines vectors.</p>

<h4 id="challenge-2">Challenge 2</h4>

<p>Fix each of the following common data frame subsetting errors.</p>

<ul>
  <li>Fix <code class="highlighter-rouge">plots[plots$id = 4, ]</code> so it returns the rows with column <code class="highlighter-rouge">id</code> equal to 4.</li>
  <li>Fix <code class="highlighter-rouge">plots[-1:4, ]</code> so it returns all rows but the first four.</li>
  <li>Fix <code class="highlighter-rouge">plots[plots$id &lt;= 5]</code> so it returns the rows with column <code class="highlighter-rouge">id</code> less than or equal to 5.</li>
  <li>Fix <code class="highlighter-rouge">plots[plots$id == 4 | 6, ]</code> so it returns the rows with column <code class="highlighter-rouge">id</code> equal to 4 or 6.</li>
</ul>

<h4 id="challenge-3">Challenge 3</h4>

<p>Create a data frame from scratch that has three columns and 5 rows. In a column named “size”, place a sequence from 1 to 5. For a column named “year”, create a factor with three levels representing the past three years. Name the third column “prop” and place 5 random samples from a uniform distribution. Show the summary of a linear model following the formula <code class="highlighter-rouge">prop ~ size + year</code>.</p>

<h4 id="challenge-4">Challenge 4</h4>

<p>Construct a data frame and performa an ANOVA to test the following hypothesis about animal weight from the study represented by the “animals.csv” file: average animal weight differes between 1980, 1990 and 2000. Carefully consider the data structure you should use for the variable “year”.</p>

<h4 id="challenge-5">Challenge 5</h4>

<p>Try that Fibonnacci challenge again, but use an approach called “recursion”. That is, write a function that calls itself (i.e. a recursion) to calculate any Fibonacci number. Just because this is an “advanced” approach doesn’t mean it’s a good one: don’t try it for any number over your age!</p>

<h3 id="solutions">Solutions</h3>

<h4 id="solution-1">Solution 1</h4>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">fib</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">3</span><span class="o">:</span><span class="m">12</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">fib</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fib</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fib</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">2</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="solution-2">Solution 2</h4>

<ul>
  <li><code class="highlighter-rouge">plots[plots$id == 4, ]</code></li>
  <li><code class="highlighter-rouge">plots[-(1:4), ]</code> or <code class="highlighter-rouge">plots[-1:-4, ]</code></li>
  <li><code class="highlighter-rouge">plots[plots$id &lt;= 5, ]</code></li>
  <li><code class="highlighter-rouge">plots[plots$id == 4 | plots$id == 6, ]</code></li>
</ul>

<h4 id="solution-3">Solution 3</h4>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="w">
  </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span><span class="w">
  </span><span class="n">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2016</span><span class="p">,</span><span class="w"> </span><span class="m">2014</span><span class="p">,</span><span class="w"> </span><span class="m">2014</span><span class="p">,</span><span class="w"> </span><span class="m">2016</span><span class="p">,</span><span class="w"> </span><span class="m">2015</span><span class="p">)),</span><span class="w">
  </span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">runif</span><span class="p">(</span><span class="m">5</span><span class="p">))</span><span class="w">
</span><span class="n">df.lm</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">prop</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">)</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">df.lm</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<h4 id="solution-4">Solution 4</h4>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">years</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">animals</span><span class="o">$</span><span class="n">year</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1980</span><span class="p">,</span><span class="w"> </span><span class="m">1990</span><span class="p">,</span><span class="w"> </span><span class="m">2000</span><span class="p">)</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">animals</span><span class="p">[</span><span class="n">years</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="n">df</span><span class="o">$</span><span class="n">year</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">year</span><span class="p">)</span><span class="w">
</span><span class="n">df.lm</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">weight</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">)</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">df.lm</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<h4 id="solution-5">Solution 5</h4>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">fibn</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
 </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="n">fib</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w">
 </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="n">fib</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fibn</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fibn</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
 </span><span class="p">}</span><span class="w">
 </span><span class="nf">return</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">fibn</span><span class="p">(</span><span class="m">12</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Note that this recursive solution is very inefficient, but could be greatly improved with <a href="https://en.wikipedia.org/wiki/Memoization">memoization</a>.</p>


	    </div>
	  </div>
  </body>
</html>
